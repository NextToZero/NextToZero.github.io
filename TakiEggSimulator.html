<!DOCTYPE html>
<html>

<head>
	<style>
		/* Primary Styling*/
		body {
			background-color: black;
			color: gray;

		}

		div {}

		h1 {
			color: red;
			text-align: center;

		}

		/* Distinct Styling */

		.panel {

			width: 25%;
			display: inline-block;
			opacity: 0.9;
			border-width: 3px;
			border-color: red;
		}

		#third_panel_mid {

			width: 50%;

		}

		#main_frame {}

		#main_frame>div {
			background-color: #242424;
			opacity: 0.90;
			margin-bottom: 10px;
			width: 100%;

		}

		#upgrades_frame>div {
			background-color: #242424;
			opacity: 0.90;
			margin-bottom: 10px;
			width: 100%;

		}


		#div_title {
			background-color: black;
			height: 80px;
			width: 100%;
		}

		#div_data {
			height: 50px;
			width: 100%;
			background-color: #242424;
			display: inline-block;

		}

		#div_display {
			height: 150px;
			width: 100%;
			background-color: #242424;
			display: inline-block;
		}

		#display1 {
			opacity: 1.0;
		}

		#display2 {
			opacity: 0.75;
		}

		#display3 {
			opacity: 0.50
		}

		.btn-group {
			height: 50px;
			width: 100%;
			display: inline-block;

		}

		.button {
			width: 33%;
			height: 100%;
			display: inline-block;

			color: dark red;
		}

		.btn-group button {
			background-color: #880000;
			/* Green background */
			border: 1px solid red;
			/* Green border */
			color: white;
			/* White text */
			padding: 0px 0px;
			/* Some padding */
			cursor: pointer;
			/* Pointer/hand icon */
			float: left;
			/* Float the buttons side by side */
		}

		.btn-group button:not(:last-child) {
			border-right: none;
			/* Prevent double borders */
		}

		/* Clear floats (clearfix hack) */
		.btn-group:after {
			content: "";
			clear: both;
			display: table;
		}

		/* Add a background color on hover */
		.btn-group button:hover {
			background-color: #3e8e41;
		}

		.btn {
			cursor: pointer;
			text-align: center;
			text-decoration: none;
			outline: none;
			border: none;
			border-radius: 15px;
			box-shadow: 0 9px #999;
			height: 100%;

		}

		.btn:hover {
			background-color: #3e8e41
		}

		.btn:active {
			background-color: #3e8e41;
			box-shadow: 0 5px #666;
			transform: translateY(4px);
		}

		#datar1>p {
			color: red;
			float: left;
			padding-left: 20px;
		}

		#settings_frame {
			display: none;

		}

		#upgrades_frame {
			display: none;

		}





		/* Clear floats (clearfix hack) */
		.btn-group:after {
			content: "";
			clear: both;
			display: table;
		}

		/* Add a background color on hover */
		.btn-group button:hover {
			background-color: #3e8e41;
		}


		.upgradebtn {
			height: 50px;
			width: 50px;
			background-color: red;
			cursor: pointer;
			font-size: 32px;
			text-align: center;
			text-decoration: none;
			outline: none;
			border: none;
			border-radius: 15px;
			box-shadow: 0 9px #999;

		}



		.upgradebtn:hover {
			background-color: #bdd63b
		}

		.upgradebtn:active {
			background-color: #3e8e41;
			box-shadow: 0 5px #666;
			transform: translateY(4px);
		}

		.upgradeTableHeading {

			padding: 10px;
			font-size: 20px;
			color: red;

		}

		#upgrades_rollover_display {
			font-size: 20px;
			text-align: center;
			width: 90%;
			height: 50px;
			background-color: #101010;
			color: red;
			margin: auto;

		}

		.upgradebtn_purchased {
			height: 50px;
			width: 50px;
			background-color: green;
			cursor: pointer;
			font-size: 32px;
			text-align: center;
			text-decoration: none;
			outline: none;
			border: none;
			border-radius: 15px;

			transform: translateY(4px);

		}
	</style>




</head>

<body>
	<div id="third_panel_left" class="panel"> </div>
	<div id="third_panel_mid" class="panel">
		<div id="div_title">
			<h1> Taki E G G Simulator </h1>
			<h6>The great UI update. Now with settings! v0.0.5</h6>
		</div>
		<div id="div_data">
			<div id="datar1">
				<p id="egg_display"> Eggs: 0 </p>
				<p id="collector_display">Collectors: 0</p>
				<p id="collector_price_display">Collector Price: $10 </p>
				<p id="money_display"> Money: $0</p>
				<p id="egg_sale_price_display">Egg Price: $0</p>
			</div>
		</div>
		<div id="main_frame">

			<div id="div_display">
				<p id="display3"></p>
				<p id="display2"></p>
				<p id="display1">It's a calm day. Work is slow, the sun is shining, and wait- Butters has brought you
					something. It's... an
					egg?</p>
			</div>
			<div id="div_buttonSet1" class="btn-group">
				<button id="btnGrabEgg" class="btn" style="width:33.3%" onclick="btnGrabEgg()"> Grab Egg </button>
				<button id="btnBuyCollector" class="btn" style="width:33.3%" onclick="btnBuyCollector()"> Buy
					Collector</button>
				<button id="btnTBD" class="btn" style="width:33.3%"> Locked </button>
			</div>
			<br>
			<div id="div_buttonSet1" class="btn-group">
				<button id="btnSellEggs" class="btn" style="width:33.3%" onclick="btnSellEggs()"> Locked: 12 Eggs
				</button>
				<button id="btnUpgrades" class="btn" style="width:33.3%" onclick="checkUpgradeFlag()"> Locked </button>
				<button id="btnSettings" class="btn" style="width:33.3%" onclick="goto_settings()"> Settings </button>

			</div>

		</div>
		<div id="settings_frame">
			<div id="settings_pane">
				<H1> Settings </H1>
				<p> This will contain some other settings eventually. If you press Nuke, it will reload the page and
					wipe your progress. Think carefully. There is no confirm text.</p>
				<br>
				<div class="btn-group" style="padding-bottom: 20px;">
					<button id="btnNuke" class="btn" style="width:33.3%" onclick="NukeProgress()"> Nuke</button>
				</div>
				<br>
				<div class="btn-group">
					<button id="btn_settings_back" class="btn" style="width:33.3%"
						onclick="goto_mainframe()">Back</button>
				</div>
			</div>

		</div>
		
		<div id="upgrades_frame">
			<div id="upgrades_pane" onmouseenter="upgradesFeedUpdate('')">
				<H1> Upgrades </H1>
				<div id="upgrades_rollover_display"></div>

				<table style="width: 100%;">
					<tbody>
						<tr>
							<td class="upgradeTableHeading" colspan=10 style="text-align: center">Egg Collector Upgrades
							</td>
						</tr>
						<tr>

							<td><button id="btnUpgradeEC1" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC1','EC',1,500,1)"
									onmouseenter="upgradesFeedUpdate('Recycled Egg Cartons',500)"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC2" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC2','EC',2,2000,1)"
									onmouseenter="upgradesFeedUpdate('Orphan-Proof Bins',2000)"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC3" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC3','EC',3,6000,1.5)"
									onmouseenter="upgradesFeedUpdate('Egg Sorting Trebuchets',6000)"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC4" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC4','EC',4,20000,2)"
									onmouseenter="upgradesFeedUpdate('Artificial Egg-teligence',20000)"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC5" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC5','EC',5,50000,2)"
									onmouseenter="upgradesFeedUpdate('Perpetual Yolk Envigorator',50000)"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC6" class="upgradebtn"
										onclick="purchaseUpgrade('btnUpgradeEC6','EC',6,250000,3)"
										onmouseenter="upgradesFeedUpdate('Non-Euclidean Ovoid Theory',250000)"
										onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC7" class="upgradebtn">🥚</button></td>
							<td><button id="btnUpgradeEC8" class="upgradebtn">🥚</button></td>
							<td><button id="btnUpgradeEC9" class="upgradebtn">🥚</button></td>
							<td><button id="btnUpgradeEC10" class="upgradebtn">🥚</button></td>
						</tr>
						<tr>
							<td class="upgradeTableHeading" colspan=10 style="text-align: center">Economy Upgrades</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td class="upgradeTableHeading" colspan=10 style="text-align: center">Automation Upgrades
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
						</tr>
					</tbody>
				</table>






				<div class="btn-group" style="padding-bottom: 20px;">

				</div>
				<br>
				<div class="btn-group">
					<button id="btn_settings_back" class="btn" style="width:33.3%"
						onclick="goto_mainframe()">Back</button>
				</div>
			</div>


		</div>

	</div>

	<div id="third_panel_right" class="panel"> </div>
</body>

<script>



	//Variables

	var eggTotal = 0;
	var tickrate = 1;
	var eggpertick = 0;
	//collector vars
	var collectorTotal = 0;
	var collectorCostMultiplier = 1.15;
	var collectorSpeedMultiplier = 1.5;
	var collectorPrice = 10;

	//sales vars
	var moneyTotal = 0;
	var eggSellPrice = 0.35;

	//Feature Flags
	var eggSalesUnlocked = false;
	var upgradesUnlocked = false;

	var upgradeFlagEC = new Array(10).fill(false);
	var upgradeFlagEU = new Array(10).fill(false);
	var upgradeFlagAM = new Array(10).fill(false);


	//upgrade vars
	var upgradeid = null;

	var events = [10];
	var eventsmuliplier = 1.58;

	const eventdesc = [

		"Where... is she getting these from?",
		"You're starting to run out of desk space... surely there's somewhere you can put them for now.",
		"Your desk is covered in eggs. Where do these even come from?",
		"You've started to put them in bins outside. The neighbors are staring at you from the windows.",
		"You've asked, but nobody knows. There are no chickens for miles, and she's never gone that long.",
		"Butters brings in another egg. At this point, you've set up cameras to watch her at all times.",
		"Your weekly omelette nights are a huge hit. You've started to enjoy the taste, but you're not happy about it.",
		"You become extremely interested in shorting egg stocks.",
		"The eggs are a hit! You start to sell Butters's Farm Fresh Eggs in local stores.",
		"Customer reviews are in, and they're happier than ever. The only complaint is the dog hair in every carton.",
		"Prices seem to fluctuate often. You begin to start the process of crafting an egg cartel.",
		"The market begins to oversaturate. Egg prices decline. You regret quitting your job... just a little bit.",
		"You're noticing a new smell. Butters stares up at you before dropping another egg from her mouth.",
		"You rent a storage locker on the outskirts of town. The smell is unbearable.",
		"You've never seen this many eggs in your life. They occupy your every thought. You dream of eggs.",
		"The eggs accelerate.",
		"The Eggs Accelerate.",
		"The. Eggs. ACCELERATE.",
		"It's always been egg.",
		"༼ つ ◕_◕ ༽つ 🥚",
		"“This recipe is certainly silly. It says to separate the eggs, but it doesn't say how far to separate them.” - Gracie Allen",
		"The storage locker can no longer contain the eggs. You purchase a warehouse, and set up a long chute.",
		"Profits soar. Eggs hoards grow. ",
		"The City Health Inspector came today. He intends to inspect our egg factory. ",
		"He had an accident in the warehouse. They never found him among the eggs.",
		"You mutter to yourself over and over \"You have to crack a few eggs... To make an omelette... You have to crack a few eggs.\"",
		"The key to everything is patience. You get the chicken by hatching the egg, not by smashing it. - Arnold C Glasow",
		"The crown is placed upon your brow. You are now the Egg King. Your loyal subjects applaud you.",
		"You stare up at the moon, and know that some day soon, it will be in your grasp.",
		"Butters smiles up at you. You smile back at her. She brings you an egg. This is the end.",
		"Bruh stop. The game is over."


	];



	function goto_settings() {

		document.getElementById("settings_frame").style.display = "initial";
		document.getElementById("main_frame").style.display = "none";
		updateAllDisplays();


	}

	function goto_upgrades() {

		document.getElementById("upgrades_frame").style.display = "initial";
		document.getElementById("main_frame").style.display = "none";
		updateAllDisplays();

	}

	function goto_mainframe() {
		document.getElementById("upgrades_frame").style.display = "none";
		document.getElementById("settings_frame").style.display = "none";
		document.getElementById("main_frame").style.display = "initial";


	}


	function round(number, increment) {
		var output = Math.ceil(number / increment) * increment;
		//console.log("Rounded " + number + " to " + output)
		return output
	}

	//generateEvents//
	//dynamically creates events array based on a multiplier. Multiplier set above, currently 1.58x
	function generateEvents() {

		for (i = 1; i < eventdesc.length; i++) {
			eventnum = round(events[i - 1] * eventsmuliplier, 20);
			events.push(eventnum)


		}

		events.push(100000000);
		console.log(events);
		console.log(eventdesc);
	}


	//checkEggEvent//
	//Check current total against events array. Runs through the entire events array every single run of the function.
	//Calls the displayUpdate function when number is between i and i+1. 
	function checkEggEvent() {
		for (let i = 0; i < events.length; i++) {

			if (eggTotal > events[i] && eggTotal < events[i + 1]) { updateFeedDisplay(eventdesc[i]) }

		}

	}

	function startEggSales() {
		updateFeedDisplay("You sell the eggs to a neighbor for a fraction of a pittance.")
		eggSalesUnlocked = true;
		sellEggs();
		document.getElementById("btnSellEggs").onclick = function () { btnSellEggs() };
		document.getElementById("btnSellEggs").innerHTML = "Sell Eggs";
		preStartUpgrades();

	}

	function preStartUpgrades() {

		document.getElementById("btnUpgrades").innerHTML = "Locked: $1000";

	}



	function startUpgrades() {
		upgradesUnlocked = true;
		document.getElementById("btnUpgrades").onclick = function () { btnUpgrades() };
		document.getElementById("btnUpgrades").innerHTML = "Upgrades";
		updateFeedDisplay("Funds have been set aside for research and development. A great day for egg-kind. ")



	}

	//onClick Grab Egg. 
	function btnGrabEgg() {
		console.info("clicked btnGrabEgg");
		eggTotal += 1;
		checkEggEvent();
		updateEggDisplay();

	}
	//onClick for btnBuyCollector. I'll rename this NEVER. Just kidding, I renamed it 12/19/2022 

	function btnBuyCollector() {
		console.info("clicked btnBuyCollector");
		buycollector();

	}
	//btnSellEggs()
	//runs the onclick method for the sell button. 
	function btnSellEggs() {

		if (eggSalesUnlocked == false) {
			if (eggTotal >= 12) {
				startEggSales();
			}

		}

		else {
			sellEggs();
		}



	}

	function checkUpgradeFlag() {
		if (upgradesUnlocked == false) {
			if (moneyTotal >= 1000) {
				moneyTotal -= 1000;
				startUpgrades();
			}
		}


	}

	function btnUpgrades() {


		goto_upgrades();



	}

	function upgradesFeedUpdate(input, value) {
		if (value !== undefined) {
			document.getElementById("upgrades_rollover_display").innerHTML = "*" + input + "* Cost: $" + value;
		}
		else {
			document.getElementById("upgrades_rollover_display").innerHTML = "Select an upgrade!"
		}
	}


	function purchaseUpgrade(elementid, upgradeType, upgradeid, cost, value) {

		switch (upgradeType) {
			case "EC":
				upgradeCollector(elementid, upgradeid, cost, value);
				break;
		}


	}


	function disableUpgrade(elementid) {
		console.info("disabling upgrade: " + elementid);
		document.getElementById(elementid).className = "upgradebtn_purchased";
		document.getElementById(elementid).onclick = "";

	}




	function upgradeCollector(elementid, upgradeid, cost, value) {
		if (moneyTotal >= cost) {
			moneyTotal -= cost;
			collectorSpeedMultiplier += value;
			upgradeFlagEC[upgradeid - 1] = true;
			console.log("Upgrade purchased: " + upgradeid + " Cost deducted: " + cost + " CollectorSpeedMultiplier: "
				+ collectorSpeedMultiplier + " upgradeFlagEC State: " + upgradeFlagEC[upgradeid]);
			disableUpgrade(elementid);


		}


	}





	//buyCollector//
	//when called, add one to total. For first collector a special display message posted. More to follow eventually.
	function buycollector() {

		if (moneyTotal >= collectorPrice) {
			moneyTotal -= collectorPrice;
			collectorTotal += 1;
			console.log("Current collector price: " + collectorPrice);
			collectorEvent();

			collectorPrice = Math.floor(collectorPrice * collectorCostMultiplier + 5);
			console.log("Collector price increased to: " + collectorPrice);
			updateCollectorDisplay();
			updateCollectorPriceDisplay();
			updateEggDisplay();
			updateMoneyDisplay();
		}
	}

	//collectorEvent()
	//what's a switch case 🤔
	function collectorEvent() {

		if (collectorTotal == 1) { updateFeedDisplay("You've traded away eggs for your first collector. Now, she has somewhere to put them."); }
		if (collectorTotal == 25) { updateFeedDisplay("You're now trading eggs in bulk, and recieiving more collectors than ever."); }
		if (collectorTotal == 50) { updateFeedDisplay("You're still not entirely sure what a collector is, but you have 50 of them now. Congration, you done it. "); }
		if (collectorTotal == 69) { updateFeedDisplay("Nice."); }
		if (collectorTotal == 75) { updateFeedDisplay("You have now passed what egg scientists are calling \"The Moonie Threshold\""); }
		if (collectorTotal == 100) { updateFeedDisplay("Triple digit collectors! Achievement Get! (Note: This game does not have achievements. You get nothing.)"); }


	}



	//sellEggs()

	function sellEggs() {

		if (eggTotal > 0) {
			eggvalue = eggTotal * eggSellPrice;
			moneyTotal += eggvalue;
			updateFeedDisplay("You have sold " + eggTotal + " eggs, at a total value of $" + eggvalue.toFixed(2) + ".");
			if (Math.random() <= 0.66) {
				lowerEggPrice();
			}
			eggTotal = 0;
		}
		updateMoneyDisplay();
		updateEggPriceDisplay();
		updateEggDisplay();

	}

	//lowerEggPrice()
	//Lower egg price by 0.00,0.01,0.02. Print to console, output to log. 
	function lowerEggPrice() {


		var pricechange = (Math.random(3) * 0.01)
		eggSellPrice -= pricechange
		console.log("Price drop: " + pricechange.toFixed(2) + ". Price now: " + eggSellPrice.toFixed(2));

		updateEggPriceDisplay();

	}

	//increaseEggPrice()
	//Increase egg price by 0.00,0.01,0.02. Print to console, output to log. 
	function increaseEggPrice() {



		var pricechange = (Math.random(3) * 0.01);
		eggSellPrice += pricechange;
		console.log("Price increase: " + pricechange.toFixed(2) + ". Price now: " + eggSellPrice.toFixed(2));
		updateEggPriceDisplay();


	}

	//increaseEggPrice()
	//Increase egg price by specified value. Print to console, output to log.
	//overloading above method.  
	// function increaseEggPrice(number) {
	// 	var pricechange = number;
	// 	eggSellPrice += pricechange;
	// 	console.log("Price increase: " + pricechange.toFixed(2) + ". Price now: " + eggSellPrice.toFixed(2));
	// 	updateEggPriceDisplay();


	// }

	//checkEggPrice()
	//If the egg sell price is below 1.00, roll randomly. On a 1% roll, increase the egg price. 
	function checkEggPrice() {

		if (eggSellPrice <= 1.00) {
			if (Math.random() <= 0.01) {
				increaseEggPrice();
			}
		}


	}

	//updateFeedDisplay
	//Push events up the log. It's bad, but it works, and tha's all we care about. 
	function updateFeedDisplay(eventtext) {
		var currenttext = document.getElementById("display1").innerHTML;
		if (currenttext != eventtext) {
			document.getElementById("display3").innerHTML = document.getElementById("display2").innerHTML;
			document.getElementById("display2").innerHTML = document.getElementById("display1").innerHTML;
			document.getElementById("display1").innerHTML = eventtext
		}

	}


	function updateEggDisplay() {
		document.getElementById("egg_display").innerHTML = "Eggs: " + eggTotal;
	}

	function updateCollectorPriceDisplay() {
		document.getElementById("collector_price_display").innerHTML = "Collector Price: $" + collectorPrice;
	}

	function updateMoneyDisplay() {
		document.getElementById("money_display").innerHTML = "Money: $" + moneyTotal.toFixed(2);

	}

	function updateEggPriceDisplay() {
		document.getElementById("egg_sale_price_display").innerHTML = "Egg price: $" + eggSellPrice.toFixed(2);

	}


	function updateCollectorDisplay() {
		document.getElementById("collector_display").innerHTML = "Collectors: " + collectorTotal;
	}
	//eggtick//
	//Butters gives you an egg.//
	//adds eggs to total, checks for events, updates display.
	function eggtick(num) {
		eggTotal += num;
		checkEggEvent();
		updateEggDisplay();
	}

	function updateAllDisplays() {
		console.log("Display Update");
		updateCollectorDisplay();
		updateCollectorPriceDisplay();
		updateEggDisplay();
		updateEggPriceDisplay();
		updateMoneyDisplay();
		updateUpgradeButtons();



	}

	function updateButtons() {
		if (eggSalesUnlocked == true) {
			document.getElementById("btnSellEggs").onclick = function () { btnSellEggs() };
			document.getElementById("btnSellEggs").innerHTML = "Sell Eggs";
			preStartUpgrades();
		}
		if (upgradesUnlocked == true) {
			document.getElementById("btnUpgrades").onclick = function () { btnUpgrades() };
			document.getElementById("btnUpgrades").innerHTML = "Upgrades";

		}


	}

	function updateUpgradeButtons() {

		for (i = 0; i < upgradeFlagEC.length; i++) {
			console.info("upgradeFlagEC[i] : " + i + " -> " + upgradeFlagEC[i])
			if (upgradeFlagEC[i] == true) {
				var elementname = "btnUpgradeEC" + (i + 1);
				console.debug("elementname: " + elementname);
				disableUpgrade(elementname);

			}

		}


	}


	//saveState()//
	//Create a save object, populate with variables, load into localstorage as a json string. 
	function saveState() {
		var save = {
			eggTotal: eggTotal,
			collectorTotal: collectorTotal,
			collectorPrice: collectorPrice,
			eggSellPrice: eggSellPrice,
			moneyTotal: moneyTotal,
			eggSalesUnlocked: eggSalesUnlocked,
			upgradesUnlocked: upgradesUnlocked,
			collectorSpeedMultiplier: collectorSpeedMultiplier,
			display1: document.getElementById("display1").innerHTML,
			display2: document.getElementById("display2").innerHTML,
			display3: document.getElementById("display3").innerHTML,
			upgradeFlagEC: upgradeFlagEC,
			upgradeFlagEU: upgradeFlagEU,
			upgradeFlagAM: upgradeFlagAM


		}

		localStorage.setItem("save", JSON.stringify(save));

	}
	//loadState()//
	//Creates a savegame object, recalls the Save from localstorage and de-jsons it. if it's not null, load data.
	function loadState() {
		var savegame = JSON.parse(localStorage.getItem("save"));
		if (savegame != null) {
			if (typeof savegame.eggTotal !== "undefined") { eggTotal = savegame.eggTotal }
			if (typeof savegame.collectorTotal !== "undefined") { collectorTotal = savegame.collectorTotal }
			if (typeof savegame.collectorPrice !== "undefined") { collectorPrice = savegame.collectorPrice }
			if (typeof savegame.eggSellPrice !== "undefined") { eggSellPrice = savegame.eggSellPrice }
			if (typeof savegame.moneyTotal !== "undefined") { moneyTotal = savegame.moneyTotal }
			if (typeof savegame.eggSalesUnlocked !== "undefined") { eggSalesUnlocked = savegame.eggSalesUnlocked }
			if (typeof savegame.upgradesUnlocked !== "undefined") { upgradesUnlocked = savegame.upgradesUnlocked }
			if (typeof savegame.collectorSpeedMultiplier !== "undefined") { collectorSpeedMultiplier = savegame.collectorSpeedMultiplier }
			if (typeof savegame.display1 !== "undefined") { document.getElementById("display1").innerHTML = savegame.display1 }
			if (typeof savegame.display2 !== "undefined") { document.getElementById("display2").innerHTML = savegame.display2 }
			if (typeof savegame.display3 !== "undefined") { document.getElementById("display3").innerHTML = savegame.display3 }
			if (typeof savegame.upgradeFlagEC !== "undefined") { upgradeFlagEC = savegame.upgradeFlagEC }
			if (typeof savegame.upgradeFlagEU !== "undefined") { upgradeFlagEU = savegame.upgradeFlagEU }
			if (typeof savegame.upgradeFlagAM !== "undefined") { upgradeFlagAM = savegame.upgradeFlagAM }
		}

		updateAllDisplays();
		updateButtons();
		logLoad();

	}

	function NukeProgress() {

		//𓀥    𓁆 𓀕
		//
		//𓁆 𓀟   𓀣 𓁀

		localStorage.clear();
		location.reload();

	}

	function logLoad() {
		console.log("Loaded eggTotal: " + eggTotal);
		console.log("Loaded collectorTotal: " + collectorTotal);
		console.log("Loaded collectorPrice: " + collectorPrice);
		console.log("Loaded eggSellPrice: " + eggSellPrice);
		console.log("Loaded moneyTotal: " + moneyTotal);
		console.log("Loaded eggSalesUnlocked: " + eggSalesUnlocked);
		console.log("Loaded upgradesUnlocked: " + upgradesUnlocked);
		console.log("Loaded collectorSpeedMultiplier: " + collectorSpeedMultiplier);
		console.log("Loaded display1: " + display1);
		console.log("Loaded display2: " + display2);
		console.log("Loaded display3: " + display3);
		console.log("upgradeFlagEC: " + upgradeFlagEC.toString())

	}


	function startup() {
		loadState();
		generateEvents();

	}
	startup()

	//I don't know why this works, but it do.
	window.setInterval(function () {
		eggtick(collectorTotal * collectorSpeedMultiplier);
		saveState();
		checkEggPrice();


	}, 1000);



	// do my inconsistent semicolons infuriate you? good. //


</script>



</html>