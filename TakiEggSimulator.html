<!DOCTYPE html>
<html>

<head>
	<style>
		/* Primary Styling*/
		body {
			background-color: black;
			color: gray;

		}



		h1 {
			color: red;
			text-align: center;

		}

		/* Distinct Styling */

		.panel {

			width: 25%;
			display: inline-block;
			opacity: 0.9;
			border-width: 3px;
			border-color: red;
		}

		#third_panel_mid {

			width: 50%;

		}



		#main_frame>div {
			background-color: #242424;
			opacity: 0.90;
			margin-bottom: 10px;
			width: 100%;

		}

		#upgrades_frame>div {
			background-color: #242424;
			opacity: 0.90;
			margin-bottom: 10px;
			width: 100%;
			height: auto;

		}


		#div_title {
			background-color: black;
			height: 80px;
			width: 100%;
		}

		#div_data {
			height: auto;
			width: 100%;
			background-color: #242424;
			display: inline-flex;

		}

		#div_display {
			height: 150px;
			width: 100%;
			background-color: #242424;
			display: inline-block;
		}

		#display1 {
			opacity: 1.0;
		}

		#display2 {
			opacity: 0.75;
		}

		#display3 {
			opacity: 0.50
		}

		.btn-group {
			height: 50px;
			width: 100%;
			display: inline-block;

		}

		.button {
			width: 33%;
			height: 100%;
			display: inline-block;

			color: dark red;
		}

		.btn-group button {
			background-color: #880000;
			/* Green background */
			border: 1px solid red;
			/* Green border */
			color: white;
			/* White text */
			padding: 0px 0px;
			/* Some padding */
			cursor: pointer;
			/* Pointer/hand icon */
			float: left;
			/* Float the buttons side by side */
		}

		.btn-group button:not(:last-child) {
			border-right: none;
			/* Prevent double borders */
		}

		/* Clear floats (clearfix hack) */
		.btn-group:after {
			content: "";
			clear: both;
			display: table;
		}

		/* Add a background color on hover */
		.btn-group button:hover {
			background-color: #3e8e41;
		}

		.btn {
			cursor: pointer;
			text-align: center;
			text-decoration: none;
			outline: none;
			border: none;
			border-radius: 15px;
			box-shadow: 0 9px #999;
			height: 100%;

		}

		.btn:hover {
			background-color: #3e8e41
		}

		.btn:active {
			background-color: #3e8e41;
			box-shadow: 0 5px #666;
			transform: translateY(4px);
		}

		#datar1>p {
			color: red;
			float: left;
			padding-left: 20px;
		}

		#settings_frame {
			display: none;

		}

		#upgrades_frame {
			display: none;

		}





		/* Clear floats (clearfix hack) */
		.btn-group:after {
			content: "";
			clear: both;
			display: table;
		}

		/* Add a background color on hover */
		.btn-group button:hover {
			background-color: #3e8e41;
		}


		.upgradebtn {
			height: 50px;
			width: 50px;
			background-color: red;
			cursor: pointer;
			font-size: 32px;
			text-align: center;
			text-decoration: none;
			outline: none;
			border: none;
			border-radius: 15px;
			box-shadow: 0 9px #999;

		}



		.upgradebtn:hover {
			background-color: #bdd63b
		}

		.upgradebtn:active {
			background-color: #3e8e41;
			box-shadow: 0 5px #666;
			transform: translateY(4px);
		}

		.upgradeTableHeading {

			padding: 10px;
			font-size: 20px;
			color: red;

		}

		#upgrades_rollover_display {
			font-size: 20px;
			text-align: center;
			width: 90%;
			height: 50px;
			background-color: #101010;
			color: red;
			margin: auto;

		}

		.upgradebtn_purchased {
			height: 50px;
			width: 50px;
			background-color: green;
			cursor: pointer;
			font-size: 32px;
			text-align: center;
			text-decoration: none;
			outline: none;
			border: none;
			border-radius: 15px;

			transform: translateY(4px);

		}


		#detail_stats_display {

			color: red;
			text-align: center;
			margin: auto;

		}

		#detail_stats_display>p {

			display: inline;
			padding: 15px;
		}
	</style>




</head>

<body>
	<div id="third_panel_left" class="panel"> </div>
	<div id="third_panel_mid" class="panel">
		<div id="div_title">
			<h1> Taki E G G Simulator </h1>
			<h5> The Eggventure Capitalist™️ update! v0.0.6c (Now with 20% bugs by weight!)</h5>
		</div>
		<div id="div_data">
			<div id="datar1">
				<p id="egg_display"> Eggs: 0 </p>
				<p id="collector_display">Collectors: 0</p>
				<p id="collector_price_display">Collector Price: $10 </p>
				<p id="money_display"> Money: $0</p>
				<p id="egg_sale_price_display">Egg Price: $0</p>
			</div>
		</div>
		<div id="main_frame">

			<div id="div_display">
				<p id="display3"></p>
				<p id="display2"></p>
				<p id="display1">It's a calm day. Work is slow, the sun is shining, and wait- Butters has brought you
					something. It's... an
					egg?</p>
			</div>
			<div id="div_buttonSet1" class="btn-group">
				<button id="btnGrabEgg" class="btn" style="width:33.3%" onclick="btnGrabEgg()"> Grab Egg </button>
				<button id="btnBuyCollector" class="btn" style="width:33.3%" onclick="btnBuyCollector()"> Buy
					Collector</button>
				<button id="btnTBD" class="btn" style="width:33.3%"> Locked </button>
			</div>
			<br>
			<div id="div_buttonSet1" class="btn-group">
				<button id="btnSellEggs" class="btn" style="width:33.3%" onclick="btnSellEggs()"> Locked: 12 Eggs
				</button>
				<button id="btnUpgrades" class="btn" style="width:33.3%" onclick="checkUpgradeFlag()"> Locked </button>
				<button id="btnSettings" class="btn" style="width:33.3%" onclick="goto_settings()"> Settings </button>

			</div>

		</div>
		<div id="settings_frame">
			<div id="settings_pane">
				<H1> Settings </H1>
				<p> This will contain some other settings eventually. If you press Nuke, it will reload the page and
					wipe your progress. Think carefully. There is no confirm text.</p>
				<br>
				<div class="btn-group" style="padding-bottom: 20px;">
					<button id="btnNuke" class="btn" style="width:33.3%" onclick="NukeProgress()"> Nuke</button>
				</div>
				<br>
				<div class="btn-group">
					<button id="btn_settings_back" class="btn" style="width:33.3%"
						onclick="goto_mainframe()">Back</button>
				</div>
			</div>

		</div>

		<div id="upgrades_frame">
			<div id="upgrades_pane" onmouseenter="upgradesFeedUpdate('')">
				<H1> Upgrades </H1>
				<div id="upgrades_rollover_display"></div>

				<table style="width: 100%;">
					<tbody>
						<tr>
							<td class="upgradeTableHeading" colspan=10 style="text-align: center">Egg Collector Upgrades
							</td>
						</tr>
						<tr>

							<!--
								Artificial Egg-teligence
								Non-Euclidean Ovoid Theory
								
							-->

							<td><button id="btnUpgradeEC1" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC1','EC',1,500,1)"
									onmouseenter="upgradesFeedUpdate('Recycled Egg Cartons',500,'Collector Speed +1.0')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC2" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC2','EC',2,2000,1)"
									onmouseenter="upgradesFeedUpdate('Orphan-Proof Bins',2000,'Collector Speed +1.0')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC3" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC3','EC',3,6000,1.5)"
									onmouseenter="upgradesFeedUpdate('Egg Sorting Trebuchets',6000,'Collector Speed +1.5')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC4" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC4','EC',4,20000,2)"
									onmouseenter="upgradesFeedUpdate('Multi-Egg Conveyor Lanes',20000,'Collector Speed +2.0')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC5" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC5','EC',5,50000,2)"
									onmouseenter="upgradesFeedUpdate('Perpetual Yolk Envigorator',50000,'Collector Speed +2.0')"
									onmouseleave=" upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC6" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC6','EC',6,250000,3)"
									onmouseenter="upgradesFeedUpdate('Non-Euclidean Ovoid Theory',250000,'Collector Speed +3.0')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC7" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC7','EC',7,750000,5)"
									onmouseenter="upgradesFeedUpdate('Artificial Egg-telligence',750000,'Collector Speed +5.0')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC8" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC8','EC',8,1500000,20)"
									onmouseenter="upgradesFeedUpdate('Dark Matter Topology ',1500000,'Collector Speed +20.0')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEC9" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEC9','EC',9,6000000,40)"
									onmouseenter="upgradesFeedUpdate('Two Recycled Egg Cartons',6000000,'Collector Speed +40.0')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>

						</tr>
						<tr>
							<td class="upgradeTableHeading" colspan=10 style="text-align: center">Economy Upgrades</td>
						</tr>
						<tr>
							<!--
								Word of Mouth
								Local Advertising
								Radio Advertisements								
								Referral Program
								Capital Injection

							-->
							<td><button id="btnUpgradeEU1" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEU1','EU',1,1000,0.15)"
									onmouseenter="upgradesFeedUpdate('Word of Mouth',1000,'Market Minimum +0.15')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEU2" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEU2','EU',2,4000,0.20)"
									onmouseenter="upgradesFeedUpdate('Local Advertising',4000,'Market Minimum +0.20')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEU3" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEU3','EU',3,10000,0.25)"
									onmouseenter="upgradesFeedUpdate('Morning Radio Show',10000,'Market Minimum +0.25')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEU4" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEU4','EU',4,30000,0.35)"
									onmouseenter="upgradesFeedUpdate('Referral Program',30000,'Market Minimum +0.35')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEU5" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEU5','EU',5,65000,0.50)"
									onmouseenter="upgradesFeedUpdate('Multi-Egg Marketing',65000,'Market Minimum +0.50')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEU6" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEU6','EU',6,350000,0.70)"
									onmouseenter="upgradesFeedUpdate('Capital Injection',350000,'Market Minimum +0.70')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEU7" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEU7','EU',7,800000,1.25)"
									onmouseenter="upgradesFeedUpdate('Egg Stocks',800000,'Market Minimum +1.25')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEU8" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEU8','EU',8,1750000,2.5)"
									onmouseenter="upgradesFeedUpdate('Crypteggcurrency',1750000,'Market Minimum +2.5')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
							<td><button id="btnUpgradeEU9" class="upgradebtn"
									onclick="purchaseUpgrade('btnUpgradeEU9','EU',9,4000000,5.0)"
									onmouseenter="upgradesFeedUpdate('The Barter System',4000000,'Market Minimum +5.00')"
									onmouseleave="upgradesFeedUpdate('')">🥚</button></td>
						</tr>
						<tr>
							<td class="upgradeTableHeading" colspan=10 style="text-align: center">Automation Upgrades
							</td>
						</tr>
						<tr>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
						</tr>
					</tbody>
				</table>





				<div id="detail_stats_display">
					<p id="collector_speed">Collector Speed: 0</p>
					<p id="market_max"> Market Max: 0 </p>
					<p id="market_min">Market Min: 0</p>

				</div>

				<div class="btn-group" style="padding-bottom: 20px;">

				</div>
				<br>
				<div class="btn-group">
					<button id="btn_settings_back" class="btn" style="width:33.3%"
						onclick="goto_mainframe()">Back</button>
				</div>
			</div>


		</div>

	</div>

	<div id="third_panel_right" class="panel"> </div>
</body>

<script>

	//------------------------------------------------------------------------------------------------------------------------------------------------------//
	/*
			db    db  .d8b.  d8888b. d888888b  .d8b.  d8888b. db      d88888b .d8888. 
			88    88 d8' `8b 88  `8D   `88'   d8' `8b 88  `8D 88      88'     88'  YP 
			Y8    8P 88ooo88 88oobY'    88    88ooo88 88oooY' 88      88ooooo `8bo.   
			`8b  d8' 88~~~88 88`8b      88    88~~~88 88~~~b. 88      88~~~~~   `Y8b. 
			 `8bd8'  88   88 88 `88.   .88.   88   88 88   8D 88booo. 88.     db   8D 
			   YP    YP   YP 88   YD Y888888P YP   YP Y8888P' Y88888P Y88888P `8888Y' 
	*/
	//------------------------------------------------------------------------------------------------------------------------------------------------------//

	//Variables
	var eggTotal = 0;
	var tickrate = 1;
	var eggpertick = 0;

	//collector vars
	var collectorTotal = 0;
	var collectorCostMultiplier = 1.15;
	var collectorSpeedMultiplier = 1.5;
	var collectorPrice = 10;

	//sales vars
	var moneyTotal = 0;
	var eggSellPrice = 0.35;
	var marketmin = 0.10;
	var marketmax = 1.00;

	//Feature Flags
	var eggSalesUnlocked = false;
	var upgradesUnlocked = false;

	//Upgrade Flags
	var upgradeFlagEC = new Array(10).fill(false);
	var upgradeFlagEU = new Array(10).fill(false);
	var upgradeFlagAM = new Array(10).fill(false);


	//upgrade vars
	var upgradeid = null;

	//events vars
	var events = [10];
	var eventsmuliplier = 1.58;

	const eventdesc = [

		"Where... is she getting these from?",
		"You're starting to run out of desk space... surely there's somewhere you can put them for now.",
		"Your desk is covered in eggs. Where do these even come from?",
		"You've started to put them in bins outside. The neighbors are staring at you from the windows.",
		"You've asked, but nobody knows. There are no chickens for miles, and she's never gone that long.",
		"Butters brings in another egg. At this point, you've set up cameras to watch her at all times.",
		"Your weekly omelette nights are a huge hit. You've started to enjoy the taste, but you're not happy about it.",
		"You become extremely interested in shorting egg stocks.",
		"The eggs are a hit! You start to sell Butters' Farm Fresh Eggs in local stores.",
		"Customer reviews are in, and they're happier than ever. The only complaint is the dog hair in every carton.",
		"Prices seem to fluctuate often. You begin to start the process of crafting an egg cartel.",
		"The market begins to oversaturate. Egg prices decline. You regret quitting your job... just a little bit.",
		"You're noticing a new smell. Butters stares up at you before dropping another egg from her mouth.",
		"You rent a storage locker on the outskirts of town. The smell is unbearable.",
		"You've never seen this many eggs in your life. They occupy your every thought. You dream of eggs.",
		"The eggs accelerate.",
		"The Eggs Accelerate.",
		"The. Eggs. ACCELERATE.",
		"It's always been egg.",
		"༼ つ ◕_◕ ༽つ 🥚",
		"“This recipe is certainly silly. It says to separate the eggs, but it doesn't say how far to separate them.” - Gracie Allen",
		"The storage locker can no longer contain the eggs. You purchase a warehouse, and set up a long chute.",
		"Profits soar. Eggs hoards grow. ",
		"The City Health Inspector came today. He intends to inspect our egg factory. ",
		"He had an accident in the warehouse. They never found him among the eggs.",
		"You mutter to yourself over and over \"You have to crack a few eggs... To make an omelette... You have to crack a few eggs.\"",
		"The key to everything is patience. You get the chicken by hatching the egg, not by smashing it. - Arnold C Glasow",
		"The crown is placed upon your brow. You are now the Egg King. Your loyal subjects applaud you.",
		"You stare up at the moon, and know that some day soon, it will be in your grasp.",
		"Butters smiles up at you. You smile back at her. She brings you an egg. This is the end.",
		"Bruh stop. The game is over."


	];


	//------------------------------------------------------------------------------------------------------------------------------------------------------//
	/*
		  d8b   db  .d8b.  db    db d888888b  d888b   .d8b.  d888888b d888888b  .d88b.  d8b   db 
		  888o  88 d8' `8b 88    88   `88'   88' Y8b d8' `8b `~~88~~'   `88'   .8P  Y8. 888o  88 
		  88V8o 88 88ooo88 Y8    8P    88    88      88ooo88    88       88    88    88 88V8o 88 
		  88 V8o88 88~~~88 `8b  d8'    88    88  ooo 88~~~88    88       88    88    88 88 V8o88 
		  88  V888 88   88  `8bd8'    .88.   88. ~8~ 88   88    88      .88.   `8b  d8' 88  V888 
		  VP   V8P YP   YP    YP    Y888888P  Y888P  YP   YP    YP    Y888888P  `Y88P'  VP   V8P                                                                                        
	*/
	//------------------------------------------------------------------------------------------------------------------------------------------------------//

	//goto_settings()
	//hide main_frame, show settings_frame
	function goto_settings() {

		document.getElementById("settings_frame").style.display = "initial";
		document.getElementById("main_frame").style.display = "none";
		updateAllDisplays();


	}

	//goto_upgrades
	//hide main_frame, show upgrades_frame
	function goto_upgrades() {

		document.getElementById("upgrades_frame").style.display = "initial";
		document.getElementById("main_frame").style.display = "none";
		updateAllDisplays();

	}

	function goto_mainframe() {
		document.getElementById("upgrades_frame").style.display = "none";
		document.getElementById("settings_frame").style.display = "none";
		document.getElementById("main_frame").style.display = "initial";


	}

	//------------------------------------------------------------------------------------------------------------------------------------------------------//
	/*
		db   db d88888b db      d8888b. d88888b d8888b. .d8888. 
		88   88 88'     88      88  `8D 88'     88  `8D 88'  YP 
		88ooo88 88ooooo 88      88oodD' 88ooooo 88oobY' `8bo.   
		88~~~88 88~~~~~ 88      88~~~   88~~~~~ 88`8b     `Y8b. 
		88   88 88.     88booo. 88      88.     88 `88. db   8D 
		YP   YP Y88888P Y88888P 88      Y88888P 88   YD `8888Y' 
	*/
	//------------------------------------------------------------------------------------------------------------------------------------------------------//



	function eventRound(number, increment) {
		var output = Math.ceil(number / increment) * increment;
		//console.log("Rounded " + number + " to " + output)
		return output
	}

	//fuckin javascript man.

	function dec2add(number1, number2) {

		return (number1.toFixed(2) * 100 + number2.toFixed(2) * 100) / 100

	}

	function dec2sub(number1, number2) {

		return (number1.toFixed(2) * 100 - number2.toFixed(2) * 100) / 100

	}


	function numformat(number) {

		return number.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",");

	}


	function quickstart() {

		moneyTotal = 999999999;
		upgradesUnlocked = true;
		eggSalesUnlocked = true;
		updateAllDisplays();

		return "someone's feeling cheaty today"

	}
	//------------------------------------------------------------------------------------------------------------------------------------------------------//
	/*
		d8888b. db    db d888888b d888888b  .d88b.  d8b   db .d8888. 
		88  `8D 88    88 `~~88~~' `~~88~~' .8P  Y8. 888o  88 88'  YP 
		88oooY' 88    88    88       88    88    88 88V8o 88 `8bo.   
		88~~~b. 88    88    88       88    88    88 88 V8o88   `Y8b. 
		88   8D 88b  d88    88       88    `8b  d8' 88  V888 db   8D 
		Y8888P' ~Y8888P'    YP       YP     `Y88P'  VP   V8P `8888Y'  
	*/
	//------------------------------------------------------------------------------------------------------------------------------------------------------//

	//onClick Grab Egg. 
	function btnGrabEgg() {
		console.info("clicked btnGrabEgg");
		eggTotal += 1;
		checkEggEvent();
		updateEggDisplay();

	}
	//onClick for btnBuyCollector. I'll rename this NEVER. Just kidding, I renamed it 12/19/2022 

	function btnBuyCollector() {
		console.info("clicked btnBuyCollector");
		buycollector();

	}
	//btnSellEggs()
	//runs the onclick method for the sell button. 
	function btnSellEggs() {
		if (eggSalesUnlocked == false) {
			if (eggTotal >= 12) {
				startEggSales();
			}
		}
		else {
			sellEggs();
		}

	}

	function btnUpgrades() {

		goto_upgrades();

	}

	//------------------------------------------------------------------------------------------------------------------------------------------------------//
	/*
		d88888b db    db d88888b d8b   db d888888b .d8888. 
		88'     88    88 88'     888o  88 `~~88~~' 88'  YP 
		88ooooo Y8    8P 88ooooo 88V8o 88    88    `8bo.   
		88~~~~~ `8b  d8' 88~~~~~ 88 V8o88    88      `Y8b. 
		88.      `8bd8'  88.     88  V888    88    db   8D 
		Y88888P    YP    Y88888P VP   V8P    YP    `8888Y' 
	*/
	//------------------------------------------------------------------------------------------------------------------------------------------------------//

	//generateEvents//
	//dynamically creates events array based on a multiplier. Multiplier set above, currently 1.58x
	function generateEvents() {

		for (i = 1; i < eventdesc.length; i++) {
			eventnum = eventRound(events[i - 1] * eventsmuliplier, 20);
			events.push(eventnum)


		}

		events.push(100000000);
		console.log(events);
		console.log(eventdesc);
	}


	//checkEggEvent//
	//Check current total against events array. Runs through the entire events array every single run of the function.
	//Calls the displayUpdate function when number is between i and i+1. 
	function checkEggEvent() {
		for (let i = 0; i < events.length; i++) {

			if (eggTotal > events[i] && eggTotal < events[i + 1]) { updateFeedDisplay(eventdesc[i]) }

		}

	}



	//collectorEvent()
	//what's a switch case 🤔
	function collectorEvent() {

		if (collectorTotal == 1) { updateFeedDisplay("You've traded away eggs for your first collector. Now, she has somewhere to put them."); }
		if (collectorTotal == 25) { updateFeedDisplay("You're now trading eggs in bulk, and recieiving more collectors than ever."); }
		if (collectorTotal == 50) { updateFeedDisplay("You're still not entirely sure what a collector is, but you have 50 of them now. Congration, you done it. "); }
		if (collectorTotal == 69) { updateFeedDisplay("Nice."); }
		if (collectorTotal == 75) { updateFeedDisplay("You have now passed what egg scientists are calling \"The Moonie Threshold\""); }
		if (collectorTotal == 100) { updateFeedDisplay("Triple digit collectors! Achievement Get! (Note: This game does not have achievements. You get nothing.)"); }


	}


	//------------------------------------------------------------------------------------------------------------------------------------------------------//
	/*
		d88888b  d888b   d888b    .d8888.  .d8b.  db      d88888b .d8888. 
		88'     88' Y8b 88' Y8b   88'  YP d8' `8b 88      88'     88'  YP 
		88ooooo 88      88        `8bo.   88ooo88 88      88ooooo `8bo.   
		88~~~~~ 88  ooo 88  ooo     `Y8b. 88~~~88 88      88~~~~~   `Y8b. 
		88.     88. ~8~ 88. ~8~   db   8D 88   88 88booo. 88.     db   8D 
		Y88888P  Y888P   Y888P    `8888Y' YP   YP Y88888P Y88888P `8888Y'
	*/
	//------------------------------------------------------------------------------------------------------------------------------------------------------//


	function startEggSales() {
		updateFeedDisplay("You sell the eggs to a neighbor for a fraction of a pittance.")
		eggSalesUnlocked = true;
		sellEggs();
		updateEggDisplay();
		document.getElementById("btnSellEggs").onclick = function () { btnSellEggs() };
		document.getElementById("btnSellEggs").innerHTML = "Sell Eggs";
		preStartUpgrades();

	}


	//sellEggs()

	function sellEggs() {

		if (eggTotal > 0) {
			var eggvalue = eggTotal * eggSellPrice;
			moneyTotal += eggvalue;
			updateFeedDisplay("You have sold " + eggTotal + " eggs, at a total value of $" + eggvalue.toFixed(2) + ".");
			if (Math.random() <= 0.66) {
				if (eggSellPrice >= marketmin) {
					lowerEggPrice();
				}
			}
			eggTotal = 0;
		}
		updateMoneyDisplay();
		updateEggPriceDisplay();
		updateEggDisplay();

	}

	//lowerEggPrice()
	//Lower egg price by 0.00,0.01,0.02. Print to console, output to log. 
	function lowerEggPrice() {


		var pricechange = (Math.floor(Math.random() * 3) * 0.01)
		console.log("PRICECHANGE-DECREASE: " + pricechange);
		if ((eggSellPrice -= pricechange) > marketmin) {
			eggSellPrice -= pricechange;
			if (eggSellPrice < marketmin) { eggSellPrice = marketmin }
			console.log("Price drop: " + pricechange.toFixed(2) + ". Price now: " + eggSellPrice.toFixed(2));
			updateEggPriceDisplay();
		}
	}

	//increaseEggPrice()
	//Increase egg price by 0.00,0.01,0.02. Print to console, output to log. 
	function increaseEggPrice() {



		var pricechange = (Math.floor(1 + Math.random() * 3) * 0.01);
		console.log("PRICECHANGE-INCREASE: " + pricechange);
		if ((eggSellPrice += pricechange) <= marketmax) {
			eggSellPrice += pricechange;
			if (eggSellPrice > marketmax) { eggSellPrice = marketmax }
			console.log("Price increase: " + pricechange.toFixed(2) + ". Price now: " + eggSellPrice.toFixed(2));
			updateEggPriceDisplay();
		}

	}

	//increaseEggPrice()
	//Increase egg price by specified value. Print to console, output to log.
	//overloading above method.  
	// function increaseEggPrice(number) {
	// 	var pricechange = number;
	// 	eggSellPrice += pricechange;
	// 	console.log("Price increase: " + pricechange.toFixed(2) + ". Price now: " + eggSellPrice.toFixed(2));
	// 	updateEggPriceDisplay();


	// }

	//checkEggPrice()
	//If the egg sell price is below 1.00, roll randomly. On a 1% roll, increase the egg price. 
	function checkEggPrice() {

		if (eggSellPrice <= marketmax) {
			if (Math.random() <= 0.01) {
				increaseEggPrice();
			}
		}


	}

	//------------------------------------------------------------------------------------------------------------------------------------------------------//
	/*
	 .o88b.  .d88b.  db      db      d88888b  .o88b. d888888b  .d88b.  d8888b. .d8888. 
	d8P  Y8 .8P  Y8. 88      88      88'     d8P  Y8 `~~88~~' .8P  Y8. 88  `8D 88'  YP 
	8P      88    88 88      88      88ooooo 8P         88    88    88 88oobY' `8bo.   
	8b      88    88 88      88      88~~~~~ 8b         88    88    88 88`8b     `Y8b. 
	Y8b  d8 `8b  d8' 88booo. 88booo. 88.     Y8b  d8    88    `8b  d8' 88 `88. db   8D 
	 `Y88P'  `Y88P'  Y88888P Y88888P Y88888P  `Y88P'    YP     `Y88P'  88   YD `8888Y' 
	*/
	//------------------------------------------------------------------------------------------------------------------------------------------------------//




	//buyCollector//
	//when called, add one to total. For first collector a special display message posted. More to follow eventually.
	function buycollector() {

		if (moneyTotal >= collectorPrice) {
			moneyTotal -= collectorPrice;
			collectorTotal += 1;
			console.log("Current collector price: " + collectorPrice);
			collectorEvent();

			collectorPrice = Math.floor(collectorPrice * collectorCostMultiplier + 5);
			console.log("Collector price increased to: " + collectorPrice);
			updateCollectorDisplay();
			updateCollectorPriceDisplay();
			updateEggDisplay();
			updateMoneyDisplay();
		}
	}






	//------------------------------------------------------------------------------------------------------------------------------------------------------//
	/*
		db    db d8888b.  d888b  d8888b.  .d8b.  d8888b. d88888b .d8888. 
		88    88 88  `8D 88' Y8b 88  `8D d8' `8b 88  `8D 88'     88'  YP 
		88    88 88oodD' 88      88oobY' 88ooo88 88   88 88ooooo `8bo.   
		88    88 88~~~   88  ooo 88`8b   88~~~88 88   88 88~~~~~   `Y8b. 
		88b  d88 88      88. ~8~ 88 `88. 88   88 88  .8D 88.     db   8D 
		~Y8888P' 88       Y888P  88   YD YP   YP Y8888D' Y88888P `8888Y' 
	*/
	//------------------------------------------------------------------------------------------------------------------------------------------------------//


	function preStartUpgrades() {

		document.getElementById("btnUpgrades").innerHTML = "Locked: $1000";

	}



	function startUpgrades() {
		upgradesUnlocked = true;
		document.getElementById("btnUpgrades").onclick = function () { btnUpgrades() };
		document.getElementById("btnUpgrades").innerHTML = "Upgrades";
		updateFeedDisplay("Funds have been set aside for research and development. A great day for egg-kind. ")



	}



	function checkUpgradeFlag() {
		if (upgradesUnlocked == false) {
			if (moneyTotal >= 1000) {
				moneyTotal -= 1000;
				startUpgrades();
			}
		}


	}


	function upgradesFeedUpdate(input, value, effect) {
		if (value !== undefined) {
			document.getElementById("upgrades_rollover_display").innerHTML = " " + input + " | Cost: $" + value + "| Effect: " + effect;
		}
		else {
			document.getElementById("upgrades_rollover_display").innerHTML = "Select an upgrade!"
		}
	}


	function purchaseUpgrade(elementid, upgradeType, upgradeid, cost, value) {

		switch (upgradeType) {
			case "EC":
				upgradeCollector(elementid, upgradeid, cost, value);
				break;
			case "EU":
				upgradeEconomy(elementid, upgradeid, cost, value)
				break;
		}


	}


	function disableUpgrade(elementid) {
		console.info("disabling upgrade: " + elementid);
		document.getElementById(elementid).className = "upgradebtn_purchased";
		document.getElementById(elementid).onclick = "";

	}






	function upgradeCollector(elementid, upgradeid, cost, value) {
		if (moneyTotal >= cost) {
			moneyTotal -= cost;
			collectorSpeedMultiplier += value;
			upgradeFlagEC[upgradeid - 1] = true;
			console.log("Upgrade purchased: " + upgradeid + " Cost deducted: " + cost + " CollectorSpeedMultiplier: "
				+ collectorSpeedMultiplier + " upgradeFlagEC State: " + upgradeFlagEC[upgradeid - 1]);
			disableUpgrade(elementid);
			updateUpgradeDetailStats();
			updateMoneyDisplay();

		}


	}

	function upgradeEconomy(elementid, upgradeid, cost, value) {
		if (moneyTotal >= cost) {
			moneyTotal -= cost;

			marketmax = dec2add(marketmax, value + 0.25);
			marketmin = dec2add(marketmin, value);
			eggSellPrice = dec2add(eggSellPrice, value);


			upgradeFlagEU[upgradeid - 1] = true;
			console.log("Upgrade purchased: " + upgradeid + " Cost deducted: " + cost + "  Economy Change: "
				+ collectorSpeedMultiplier + " upgradeFlagEU State: " + upgradeFlagEU[upgradeid - 1]);
			disableUpgrade(elementid);
			updateUpgradeDetailStats();
			updateEggPriceDisplay();
			updateMoneyDisplay();

		}


	}







	//------------------------------------------------------------------------------------------------------------------------------------------------------//
	/*
		d8888b. d888888b .d8888. d8888b. db       .d8b.  db    db 
		88  `8D   `88'   88'  YP 88  `8D 88      d8' `8b `8b  d8' 
		88   88    88    `8bo.   88oodD' 88      88ooo88  `8bd8'  
		88   88    88      `Y8b. 88~~~   88      88~~~88    88    
		88  .8D   .88.   db   8D 88      88booo. 88   88    88    
		Y8888D' Y888888P `8888Y' 88      Y88888P YP   YP    YP    
															   
	*/
	//------------------------------------------------------------------------------------------------------------------------------------------------------//



	//updateFeedDisplay
	//Push events up the log. It's bad, but it works, and tha's all we care about. 
	function updateFeedDisplay(eventtext) {
		var currenttext = document.getElementById("display1").innerHTML;
		if (currenttext != eventtext) {
			document.getElementById("display3").innerHTML = document.getElementById("display2").innerHTML;
			document.getElementById("display2").innerHTML = document.getElementById("display1").innerHTML;
			document.getElementById("display1").innerHTML = eventtext
		}

	}


	function updateEggDisplay() {
		document.getElementById("egg_display").innerHTML = "Eggs: " + numformat(eggTotal);
	}

	function updateCollectorPriceDisplay() {
		document.getElementById("collector_price_display").innerHTML = "Collector Price: $" + numformat(collectorPrice);
	}

	function updateMoneyDisplay() {
		document.getElementById("money_display").innerHTML = "Money: $" + numformat(moneyTotal.toFixed(2));

	}

	function updateEggPriceDisplay() {
		document.getElementById("egg_sale_price_display").innerHTML = "Egg Price: $" + numformat(eggSellPrice.toFixed(2));

	}


	function updateCollectorDisplay() {
		document.getElementById("collector_display").innerHTML = "Collectors: " + numformat(collectorTotal);
	}

	function updateUpgradeDetailStats() {

		document.getElementById("collector_speed").innerHTML = "Collector Speed: " + numformat(collectorSpeedMultiplier);
		document.getElementById("market_max").innerHTML = "Market Maximum: $" + numformat(marketmax.toFixed(2));
		document.getElementById("market_min").innerHTML = "Market Minimum: $" + numformat(marketmin.toFixed(2));
	}





	function updateAllDisplays() {
		console.log("Display Update");
		updateCollectorDisplay();
		updateCollectorPriceDisplay();
		updateEggDisplay();
		updateEggPriceDisplay();
		updateMoneyDisplay();
		updateUpgradeButtons();
		updateUpgradeDetailStats();



	}

	function updateButtons() {
		if (eggSalesUnlocked == true) {
			document.getElementById("btnSellEggs").onclick = function () { btnSellEggs() };
			document.getElementById("btnSellEggs").innerHTML = "Sell Eggs";
			preStartUpgrades();
		}
		if (upgradesUnlocked == true) {
			document.getElementById("btnUpgrades").onclick = function () { btnUpgrades() };
			document.getElementById("btnUpgrades").innerHTML = "Upgrades";

		}


	}

	function updateUpgradeButtons() {

		for (i = 0; i < upgradeFlagEC.length; i++) {
			console.info("upgradeFlagEC[i] : " + i + " -> " + upgradeFlagEC[i])
			if (upgradeFlagEC[i] == true) {
				var elementname = "btnUpgradeEC" + (i + 1);
				console.debug("elementname: " + elementname);
				disableUpgrade(elementname);

			}

		}
		for (i = 0; i < upgradeFlagEU.length; i++) {
			console.info("upgradeFlagEU[i] : " + i + " -> " + upgradeFlagEU[i])
			if (upgradeFlagEU[i] == true) {
				var elementname = "btnUpgradeEU" + (i + 1);
				console.debug("elementname: " + elementname);
				disableUpgrade(elementname);

			}

		}

	}

	//------------------------------------------------------------------------------------------------------------------------------------------------------//
	/*
		.d8888. d888888b  .d88b.  d8888b.  .d8b.   d888b  d88888b 
		88'  YP `~~88~~' .8P  Y8. 88  `8D d8' `8b 88' Y8b 88'     
		`8bo.      88    88    88 88oobY' 88ooo88 88      88ooooo 
		  `Y8b.    88    88    88 88`8b   88~~~88 88  ooo 88~~~~~ 
		db   8D    88    `8b  d8' 88 `88. 88   88 88. ~8~ 88.     
		`8888Y'    YP     `Y88P'  88   YD YP   YP  Y888P  Y88888P 
	*/
	//------------------------------------------------------------------------------------------------------------------------------------------------------//



	//saveState()//
	//Create a save object, populate with variables, load into localstorage as a json string. 
	function saveState() {
		var save = {
			eggTotal: eggTotal,
			collectorTotal: collectorTotal,
			collectorPrice: collectorPrice,
			eggSellPrice: eggSellPrice,
			moneyTotal: moneyTotal,
			eggSalesUnlocked: eggSalesUnlocked,
			upgradesUnlocked: upgradesUnlocked,
			collectorSpeedMultiplier: collectorSpeedMultiplier,
			display1: document.getElementById("display1").innerHTML,
			display2: document.getElementById("display2").innerHTML,
			display3: document.getElementById("display3").innerHTML,
			upgradeFlagEC: upgradeFlagEC,
			upgradeFlagEU: upgradeFlagEU,
			upgradeFlagAM: upgradeFlagAM,
			marketmax: marketmax,
			marketmin: marketmin

		}

		localStorage.setItem("save", JSON.stringify(save));

	}
	//loadState()//
	//Creates a savegame object, recalls the Save from localstorage and de-jsons it. if it's not null, load data.
	function loadState() {
		var savegame = JSON.parse(localStorage.getItem("save"));
		if (savegame != null) {
			if (typeof savegame.eggTotal !== "undefined") { eggTotal = savegame.eggTotal }
			if (typeof savegame.collectorTotal !== "undefined") { collectorTotal = savegame.collectorTotal }
			if (typeof savegame.collectorPrice !== "undefined") { collectorPrice = savegame.collectorPrice }
			if (typeof savegame.eggSellPrice !== "undefined") { eggSellPrice = savegame.eggSellPrice }
			if (typeof savegame.moneyTotal !== "undefined") { moneyTotal = savegame.moneyTotal }
			if (typeof savegame.eggSalesUnlocked !== "undefined") { eggSalesUnlocked = savegame.eggSalesUnlocked }
			if (typeof savegame.upgradesUnlocked !== "undefined") { upgradesUnlocked = savegame.upgradesUnlocked }
			if (typeof savegame.collectorSpeedMultiplier !== "undefined") { collectorSpeedMultiplier = savegame.collectorSpeedMultiplier }
			if (typeof savegame.display1 !== "undefined") { document.getElementById("display1").innerHTML = savegame.display1 }
			if (typeof savegame.display2 !== "undefined") { document.getElementById("display2").innerHTML = savegame.display2 }
			if (typeof savegame.display3 !== "undefined") { document.getElementById("display3").innerHTML = savegame.display3 }
			if (typeof savegame.upgradeFlagEC !== "undefined") { upgradeFlagEC = savegame.upgradeFlagEC }
			if (typeof savegame.upgradeFlagEU !== "undefined") { upgradeFlagEU = savegame.upgradeFlagEU }
			if (typeof savegame.upgradeFlagAM !== "undefined") { upgradeFlagAM = savegame.upgradeFlagAM }
			if (typeof savegame.marketmax !== "undefined") { marketmax = savegame.marketmax }
			if (typeof savegame.marketmin !== "undefined") { marketmin = savegame.marketmin }

		}

		updateAllDisplays();
		updateButtons();
		logLoad();

	}

	function NukeProgress() {

		//𓀥    𓁆 𓀕
		//
		//𓁆 𓀟   𓀣 𓁀

		localStorage.clear();
		location.reload();

	}

	function logLoad() {
		console.log("Loaded eggTotal: " + eggTotal);
		console.log("Loaded collectorTotal: " + collectorTotal);
		console.log("Loaded collectorPrice: " + collectorPrice);
		console.log("Loaded eggSellPrice: " + eggSellPrice);
		console.log("Loaded moneyTotal: " + moneyTotal);
		console.log("Loaded eggSalesUnlocked: " + eggSalesUnlocked);
		console.log("Loaded upgradesUnlocked: " + upgradesUnlocked);
		console.log("Loaded collectorSpeedMultiplier: " + collectorSpeedMultiplier);
		console.log("Loaded display1: " + display1);
		console.log("Loaded display2: " + display2);
		console.log("Loaded display3: " + display3);
		console.log("upgradeFlagEC: " + upgradeFlagEC.toString());
		console.log("upgradeFlagEU: " + upgradeFlagEU.toString());
		console.log("upgradeFlagAM: " + upgradeFlagAM.toString());
		console.log("Loaded marketmax: " + marketmax);
		console.log("Loaded marketmin: " + marketmin);


	}



	//------------------------------------------------------------------------------------------------------------------------------------------------------//
	/*
		.88b  d88.  .d8b.  d888888b d8b   db 
		88'YbdP`88 d8' `8b   `88'   888o  88 
		88  88  88 88ooo88    88    88V8o 88 
		88  88  88 88~~~88    88    88 V8o88 
		88  88  88 88   88   .88.   88  V888 
		YP  YP  YP YP   YP Y888888P VP   V8P 
	*/
	//------------------------------------------------------------------------------------------------------------------------------------------------------//

	//eggtick//
	//Butters gives you an egg.//
	//adds eggs to total, checks for events, updates display.
	function eggtick(num) {
		eggTotal += num;
		checkEggEvent();
		updateEggDisplay();
	}


	function startup() {
		loadState();
		generateEvents();

	}
	startup()

	//I don't know why this works, but it do.
	window.setInterval(function () {
		eggtick(collectorTotal * collectorSpeedMultiplier);
		saveState();
		checkEggPrice();


	}, 1000);



	// do my inconsistent semicolons infuriate you? good. //


</script>



</html>